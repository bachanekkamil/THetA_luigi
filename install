#!/bin/bash

echo "Compiling BAMtoGASV"
#Compile software
pushd PipelineSoftware/bam2gasv
	make
popd

echo "Compiling GASV"
pushd PipelineSoftware/gasv
	./install
popd

echo "Compiling interval counting pipeline"
pushd PipelineSoftware/intervalCountingPipeline
	./install
popd

echo "Compiling theta"
pushd PipelineSoftware/theta
	./install
popd

echo "Compiling virtual SNP array"
pushd PipelineSoftware/virtualSNPArray
	mkdir bin
	javac java/*.java -classpath ".:jars/sam-1.78.jar" -d bin
popd

echo "Verifying python dependencies"
#Install luigi and tornado
pip install luigi
pip install tornado

echo "Downloading SNP files"
#Download SNP File
curl https://s3.amazonaws.com/SNP_Files/AffySNP6.0_hg18.txt.formatted -o PipelineSoftware/virtualSNPArray/AffySNP6.0_hg18.txt.formatted
curl https://s3.amazonaws.com/SNP_Files/1000G_hg19_snps.tsv -o PipelineSoftware/virtualSNPArray/1000G_hg19_snps.tsv
